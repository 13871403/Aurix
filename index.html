<!DOCTYPE html>  
<html lang="fa">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
<title>Aurix</title>  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">  
<style>  
.wallet-glass {
  background: rgba(255, 255, 255, 0.35) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border-radius: 20px !important;
  z-index: 10 !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25) !important;
  border: 1px solid rgba(255,255,255,0.2) !important;
}

.home-page-clean {
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  padding-bottom: 100px !important;
  padding-top: 0 !important;
  margin-top: 0 !important;
}
  body {
  margin:0;
  font-family:sans-serif;
  direction:rtl;
  min-height:100dvh;
  background: #ffffff;
  overflow-x:hidden;
  overflow-y: auto;
  width: 100%;
  position: relative;
  /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´ÛŒØ¯Ù† ØµÙØ­Ù‡ */
  touch-action: pan-y;
  -ms-touch-action: pan-y;
  -webkit-user-drag: none;
  user-drag: none;
}  

.card{
max-width:380px;
margin:80px auto;
padding:24px;
border-radius:24px;
background:#fff;
box-shadow:0 20px 60px rgba(0,0,0,.35);
}

h2{text-align:center;margin-bottom:16px}

input{
width:100%;
padding:14px;
margin-bottom:12px;
border-radius:14px;
border:1px solid #ddd;
font-size:15px;
box-sizing:border-box;
}

button{
width:100%;
padding:18px;
border:none;
border-radius:999px;
font-size:17px;
font-weight:bold;
cursor:pointer;
background:linear-gradient(90deg,#ffcc00,#ff00ff);
}

.card button { margin-top:12px; }
.card button.login-btn { margin-top:16px; }

a{
display:block;
text-align:center;
margin:12px 0;
font-weight:bold;
color:#5a00ff;
text-decoration:none;
}

#verify,#gameContainer,#bottomNav{display:none;}

.game-page{
max-width:380px;
margin:24px auto;
padding:20px;
border-radius:20px;
background:#fff;
box-shadow:0 10px 30px rgba(0,0,0,.25);
text-align:center;
padding-bottom:100px;
box-sizing:border-box;
}

#bottomNav{
position:fixed;
bottom:16px;
left:16px;
right:16px;
height:68px;
background:rgba(40, 20, 80, 0.55);
backdrop-filter: blur(14px);
-webkit-backdrop-filter: blur(14px);
display:flex;
justify-content:space-around;
align-items:center;
border-radius:22px;
border:1px solid rgba(255,255,255,0.15);
box-shadow:0 10px 30px rgba(0,0,0,0.35),
inset 0 1px 0 rgba(255,255,255,0.15);
z-index:1000;
}

.nav-item{
text-align:center;
cursor:pointer;
font-size:14.5px;
color:#fff;
display:flex;
flex-direction:column;
align-items:center;
}

.nav-item span{
display:block;
font-size:13px;
margin-top:5px;
}

.nav-item i{font-size:18px}

.exit-btn{
width:100%;
padding:16px 20px;
background:#000;
color:#fff;
border:none;
border-radius:18px;
font-size:18px;
font-weight:600;
display:flex;
justify-content:space-between;
align-items:center;
margin-top:20px;
}

.support-float{
position:fixed;
bottom:110px;
right:20px;
width:56px;
height:56px;
background:#0088cc;
color:#fff;
border-radius:50%;
box-shadow:0 10px 25px rgba(0,0,0,.35);
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
z-index:999;
}

.support-float i{font-size:24px}

.profile-img{
width:110px;
height:110px;
border-radius:50%;
object-fit:cover;
margin:10px auto;
display:block;
border:3px solid #eee;
}

input[type="file"]{display:none;}

.upload-btn{
display:block;
margin:12px auto;
padding:12px;
border-radius:14px;
background:#f3f3f3;
font-weight:bold;
cursor:pointer;
text-align:center;
}

#topNav {
position: fixed;
top: 0;
left: 0;
right: 0;
background-color: #2563eb;
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px 20px;
z-index: 1000;
color: white;
width: 100%;
box-sizing: border-box;
}

#topNav .nav-item {
cursor: pointer;
font-size: 20px;
margin: 0;
padding: 0;
}

#topNav .logo {
  font-size: 30px;
  font-weight: 600;
  font-family: 'Poppins', sans-serif;
  color: #00ff88;
  text-shadow: 0 0 8px rgba(0,255,136,0.6);
  letter-spacing: 2px;
}

#topNav .logo span {
font-size: 30px;
}

* {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² zoom */
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

.card, .game-page, #topNav, #bottomNav {
  max-width: 100%;
}

/* Ù…Ù†ÙˆÛŒ Ú©Ù†Ø§Ø±ÛŒ */
#sideMenu {
  position: fixed;
  top: 0;
  right: -300px;
  width: 280px;
  height: 100%;
  background: rgba(94, 61, 147, 0.98);
  backdrop-filter: blur(10px);
  z-index: 2000;
  padding: 80px 20px 20px 20px;
  color: white;
  direction: rtl;
  box-shadow: -5px 0 15px rgba(0,0,0,0.3);
  transition: right 0.3s ease;
}

#sideMenu.active {
  right: 0;
}

#sideMenu .menu-item {
  padding: 15px;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 10px;
  color: white;
  font-size: 16px;
  text-align: right;
  margin-bottom: 10px;
  cursor: pointer;
  width: 100%;
}

#sideMenu .menu-item:hover {
  background: rgba(255,255,255,0.2);
}

#sideMenu .close-btn {
  position: absolute;
  top: 20px;
  left: 20px;
  background: none;
  border: none;
  color: white;
  font-size: 28px;
  cursor: pointer;
}

#sideMenu h3 {
  text-align: center;
  margin-bottom: 30px;
  font-size: 22px;
}

#overlay {
  position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.5);
z-index: 1999;
display: none;
}

/* âœ… Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø¨ÛŒÙ‡ ØªØµÙˆÛŒØ± */
.register-btn {
  width: 100%;
  padding: 18px;
  border: none;
  border-radius: 14px;
  font-size: 17px;
  font-weight: bold;
  cursor: pointer;
  background: linear-gradient(90deg, #4CAF50, #2E7D32);
  color: white;
  margin-top: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
  transition: all 0.3s ease;
}

.register-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
}

.login-btn {
  width: 100%;
  padding: 18px;
  border: none;
  border-radius: 14px;
  font-size: 17px;
  font-weight: bold;
  cursor: pointer;
  background: linear-gradient(90deg, #2196F3, #0D47A1);
  color: white;
  margin-top: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
  transition: all 0.3s ease;
}

.login-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
}

/* âœ… Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… */
.register-card {
  max-width: 380px;
  margin: 80px auto;
  padding: 30px 25px;
  border-radius: 24px;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.2);
}

.register-card h2 {
  text-align: center;
  margin-bottom: 25px;
  color: #5e3d93;
  font-size: 28px;
  font-weight: 700;
}

.register-card input {
  width: 100%;
  padding: 16px 20px;
  margin-bottom: 18px;
  border-radius: 14px;
  border: 2px solid #e0e0e0;
  font-size: 16px;
  box-sizing: border-box;
  background: rgba(255,255,255,0.9);
  transition: all 0.3s ease;
}

.register-card input:focus {
  border-color: #5e3d93;
  outline: none;
  box-shadow: 0 0 0 3px rgba(94, 61, 147, 0.1);
}

.register-card input::placeholder {
  color: #888;
}

.register-card .input-label {
  display: block;
  text-align: right;
  margin-bottom: 8px;
  font-weight: 600;
  color: #555;
  font-size: 14px;
}

/* âœ… Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø§ÙˆØ±ÛŒÙ†Ùˆ */
.urino-icon {
  width: 22px;
  height: 22px;
  object-fit: contain;
  display: block;
  margin-bottom: 2px;
}

/* Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¹Ú©Ø³ Ù„ÙˆØ¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ */
.urino-icon-fallback {
  width: 26px;
  height: 26px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  margin-bottom: 2px;
}

/* âœ… Ø§ØµÙ„Ø§Ø­ Ù‡Ù…â€ŒØªØ±Ø§Ø²ÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø§ÙˆØ±ÛŒÙ†Ùˆ Ø¯Ø± Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ† */
#bottomNav .nav-item img.urino-icon {
  width: 22px;
  height: 22px;
  object-fit: contain;
  display: block;
  margin-bottom: 5px;
  vertical-align: middle;
}

/* âœ… Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù‡Ù…â€ŒØªØ±Ø§Ø²ÛŒ Ø¹Ù…ÙˆØ¯ÛŒ Ú©Ù„ Ø¢ÛŒØªÙ… */
#bottomNav .nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
}

/* âœ… Ø«Ø§Ø¨Øªâ€ŒØ³Ø§Ø²ÛŒ Ø§Ø±ØªÙØ§Ø¹ Ùˆ ØªØ±Ø§Ø² Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ */
#bottomNav .nav-item i,
#bottomNav .nav-item img.urino-icon,
#bottomNav .nav-item .urino-icon-fallback {
  height: 22px;
  line-height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 5px;
}

/* âœ… ÛŒÚ©Ø³Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ ÙØ§ØµÙ„Ù‡ Ù…ØªÙ† Ø²ÛŒØ± Ø¢ÛŒÚ©ÙˆÙ† */
#bottomNav .nav-item span {
  font-size: 13px;
  margin-top: 0;
  line-height: 1.2;
}
/* ğŸ†• Ø·Ø±Ø§Ø­ÛŒ Ø¬Ø¯ÛŒØ¯ walletPage */
.wallet-modern {
  background: rgba(255, 255, 255, 0.25) !important;
  backdrop-filter: blur(25px) !important;
  -webkit-backdrop-filter: blur(25px) !important;
  border-radius: 28px !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  padding: 25px !important;
  margin-top: 20px !important;
}

.wallet-balance-card {
  background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
  border-radius: 24px;
  padding: 25px 20px;
  color: white;
  text-align: center;
  margin-bottom: 25px;
  box-shadow: 0 10px 25px rgba(106, 17, 203, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.wallet-balance-title {
  font-size: 16px;
  opacity: 0.9;
  margin-bottom: 10px;
  font-weight: 500;
}

.wallet-balance-amount {
  font-size: 42px;
  font-weight: 800;
  margin: 15px 0;
  direction: ltr;
  text-align: center;
  letter-spacing: 1px;
}

.wallet-balance-unit {
  font-size: 18px;
  opacity: 0.9;
  font-weight: 500;
}

.wallet-action-buttons {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 30px;
}

.wallet-btn {
  flex: 1;
  padding: 18px 12px;
  border-radius: 18px;
  border: none;
  font-size: 15px;
  font-weight: 700;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  transition: all 0.3s;
  color: white;
}

.wallet-btn:hover {
  transform: translateY(-3px);
}

.wallet-btn-charge {
  background: linear-gradient(135deg, #00b09b, #96c93d);
}

.wallet-btn-withdraw {
  background: linear-gradient(135deg, #ff7e5f, #feb47b);
}

.wallet-btn-report {
  background: linear-gradient(135deg, #8a2be2, #4b0082);
}

.wallet-transactions-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
  color: #333;
  text-align: right;
  padding-right: 10px;
}

.wallet-transaction-item {
  display: flex;
  align-items: center;
  padding: 16px 12px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 18px;
  margin-bottom: 12px;
  border: 1px solid rgba(0, 0, 0, 0.05);
  transition: all 0.2s;
}

.wallet-transaction-item:hover {
  background: rgba(255, 255, 255, 0.9);
  transform: translateX(-5px);
}

.wallet-transaction-icon {
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #6a11cb, #2575fc);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 22px;
  margin-left: 15px;
  flex-shrink: 0;
}

.wallet-transaction-details {
  flex: 1;
  text-align: right;
}

.wallet-transaction-title {
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 5px;
  color: #222;
}

.wallet-transaction-date {
  font-size: 13px;
  color: #666;
}

.wallet-transaction-amount {
  font-weight: 800;
  font-size: 18px;
  direction: ltr;
  min-width: 100px;
  text-align: left;
}

.wallet-transaction-positive {
  color: #2ecc71;
}

.wallet-transaction-negative {
  color: #e74c3c;
}
</style>
</head>  
<body>  
<div id="welcomePopup" style="  
display:none;  
position:fixed;  
top:0;left:0;  
width:100%;height:100%;  
background:rgba(0,0,0,.6);  
z-index:9999;  
align-items:center;  
justify-content:center;  
">  
  <div style="  
  background:#fff;  
  width:85%;  
  max-width:320px;  
  padding:24px;  
  border-radius:22px;  
  text-align:center;  
  ">  
    <h3>ğŸ® Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒ Ø¨Ù‡ Aurix</h3>  
    <p>Ø§Ø² Ø­Ø¶ÙˆØ±Øª Ø®ÙˆØ´Ø­Ø§Ù„ÛŒÙ…ØŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø²ÛŒ Ù‡Ø³ØªÛŒØŸ</p>  
    <button onclick="closeWelcome()">Ø¨Ø§Ø´Ù‡</button>  
  </div>  
</div>  

<div id="topNav" style="display:none;">  
  <div class="nav-item">  
    <i class="fas fa-shopping-cart"></i>  
  </div>  
  <div class="logo">  
    <span>Aurix</span>  
  </div>  
  <div class="nav-item" onclick="openSideMenu()">  
    <i class="fas fa-bars"></i>  
  </div>  
</div>  

<!-- âœ… ØªØºÛŒÛŒØ± Ú©Ø§Ø±Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ù‡ Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ -->
<div id="register" class="register-card">  
  <h2>Aurix</h2>  
  
  <div class="input-label">Ù†Ø§Ù… Ú©Ø§Ù…Ù„</div>
  <input id="fullName" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
  
  <div class="input-label">Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„</div>
  <input id="phoneNumber" placeholder="Ù…Ø«Ø§Ù„: Û°Û¹Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹" type="tel">
  
  <div class="input-label">Ø§ÛŒÙ…ÛŒÙ„</div>
  <input id="emailAddress" placeholder="example@gmail.com" type="email">
  
  <button class="register-btn" onclick="doRegister()">
    <i class="fas fa-lock"></i> Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø§Ù…Ù†
  </button>  
  <button class="login-btn" onclick="doLogin()">
    <i class="fas fa-key"></i> ÙˆØ±ÙˆØ¯
  </button>  
</div>  

<div id="verify" class="card">  
  <h2>Ø¯Ø±ÛŒØ§ÙØª Ùˆ ØªØ£ÛŒÛŒØ¯ Ú©Ø¯</h2>  
  <p id="showPhone" style="text-align:center"></p>  
  <a href="https://t.me/Aurix2025_bot" target="_blank">ğŸ¤– ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯</a>  
  <input id="codeInput" placeholder="Ú©Ø¯ Ø¯Ø±ÛŒØ§ÙØªÛŒ">  
  <button onclick="verifyCode()">âœ… ØªØ£ÛŒÛŒØ¯ Ùˆ ÙˆØ±ÙˆØ¯</button>  
</div>  

<div id="gameContainer">  
  <div id="homePage" class="game-page home-page-clean">  
    <div class="support-float" onclick="openSupport()">  
      <i class="fas fa-headset"></i>  
    </div>  
  </div>  
  <div id="walletPage" class="game-page wallet-modern">  
  <!-- Ú©Ø§Ø±Øª Ù…ÙˆØ¬ÙˆØ¯ÛŒ -->
  <div class="wallet-balance-card">
    <div class="wallet-balance-title">Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ</div>
    <div class="wallet-balance-amount" id="walletBalanceText">0</div>
    <div class="wallet-balance-unit">ØªÙˆÙ…Ø§Ù†</div>
  </div>

  <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ -->
  <div class="wallet-action-buttons">
    <button class="wallet-btn wallet-btn-charge" onclick="openGateway()">
      <i class="fas fa-plus-circle" style="font-size: 22px;"></i>
      <span>Ø´Ø§Ø±Ú˜</span>
    </button>
    
    <button class="wallet-btn wallet-btn-withdraw" onclick="withdrawMoney()">
      <i class="fas fa-arrow-down" style="font-size: 22px;"></i>
      <span>Ø¨Ø±Ø¯Ø§Ø´Øª</span>
    </button>
    
    <button class="wallet-btn wallet-btn-report" onclick="showReport()">
      <i class="fas fa-chart-bar" style="font-size: 22px;"></i>
      <span>Ú¯Ø²Ø§Ø±Ø´</span>
    </button>
  </div>

  <!-- Ø¹Ù†ÙˆØ§Ù† ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ -->
  <h3 class="wallet-transactions-title">ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</h3>

  <!-- Ù„ÛŒØ³Øª ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ -->
  <div id="walletTransactionsList">
    <!-- ØªØ±Ø§Ú©Ù†Ø´ Û± -->
    <div class="wallet-transaction-item">
      <div class="wallet-transaction-icon">
        <i class="fas fa-plus"></i>
      </div>
      <div class="wallet-transaction-details">
        <div class="wallet-transaction-title">Ø´Ø§Ø±Ú˜ Ø­Ø³Ø§Ø¨</div>
        <div class="wallet-transaction-date">Û±Û´Û°Û³/Û±Û°/Û±Û· - Û±Û¸:Û³Û°</div>
      </div>
      <div class="wallet-transaction-amount wallet-transaction-positive">
        +ÛµÛ°Û°,Û°Û°Û°
      </div>
    </div>

    <!-- ØªØ±Ø§Ú©Ù†Ø´ Û² -->
    <div class="wallet-transaction-item">
      <div class="wallet-transaction-icon">
        <i class="fas fa-shopping-cart"></i>
      </div>
      <div class="wallet-transaction-details">
        <div class="wallet-transaction-title">Ø®Ø±ÛŒØ¯ Ø¨Ø§Ø²ÛŒ</div>
        <div class="wallet-transaction-date">Û±Û´Û°Û³/Û±Û°/Û±Û¶ - Û±Û´:Û²Û°</div>
      </div>
      <div class="wallet-transaction-amount wallet-transaction-negative">
        -Û·Ûµ,Û°Û°Û°
      </div>
    </div>

    <!-- ØªØ±Ø§Ú©Ù†Ø´ Û³ -->
    <div class="wallet-transaction-item">
      <div class="wallet-transaction-icon">
        <i class="fas fa-gift"></i>
      </div>
      <div class="wallet-transaction-details">
        <div class="wallet-transaction-title">Ù‡Ø¯ÛŒÙ‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</div>
        <div class="wallet-transaction-date">Û±Û´Û°Û³/Û±Û°/Û±Ûµ - Û°Û¹:Û±Ûµ</div>
      </div>
      <div class="wallet-transaction-amount wallet-transaction-positive">
        +Û±Û°Û°,Û°Û°Û°
      </div>
    </div>
  </div>
</div>
  <div id="accountPage" class="game-page">  
    <h3>ğŸ‘¤ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>  
    <img id="profileImg" class="profile-img" src="https://i.imgur.com/8Km9tLL.png">  
    <label for="avatarInput" class="upload-btn">ğŸ“· ØªØºÛŒÛŒØ± ØªØµÙˆÛŒØ± Ù¾Ø±ÙˆÙØ§ÛŒÙ„</label>  
    <input id="avatarInput" type="file" accept="image/*" onchange="changeAvatar(event)">  
    <input id="usernameInput" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">  
    <button onclick="saveUsername()">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</button>  
    <p id="currentUsername" style="margin-top:10px;font-weight:bold"></p>  
  </div>  
  <div id="settingsPage" class="game-page">  
    <h3>âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</h3>  
    <button class="exit-btn" onclick="logout()">Ø®Ø±ÙˆØ¬ <span>â†ª</span></button>  
  </div>  
</div>  

<div id="bottomNav">  
  <div class="nav-item" onclick="showPage('homePage')">  
    <i class="fas fa-gamepad"></i>  
    <span>Ø¨Ø§Ø²ÛŒ</span>  
  </div>  
  <div class="nav-item" onclick="showPage('walletPage')">  
    <i class="fas fa-wallet"></i>  
    <span>Ú©ÛŒÙ Ù¾ÙˆÙ„</span>  
  </div>  
  <!-- âœ… ØªØºÛŒÛŒØ± Ø¢ÛŒÚ©ÙˆÙ† Ø§ÙˆØ±ÛŒÙ†Ùˆ Ø¨Ù‡ Ù„ÛŒÙ†Ú© Ø¬Ø¯ÛŒØ¯ -->
  <div class="nav-item" onclick="showPage('accountPage')">  
    <img src="https://i.postimg.cc/50FkcM0j/1767637411576-019b8f65-9032-766d-96ba-e554b6ffc8ae.png" class="urino-icon" alt="Ø§ÙˆØ±ÛŒÙ†Ùˆ" onerror="this.style.display='none'; document.getElementById('urinoFallback').style.display='flex';">  
    <div id="urinoFallback" class="urino-icon-fallback" style="display:none;">ğŸ‘¤</div>  
    <span>Ø§ÙˆØ±ÛŒÙ†Ùˆ</span>  
  </div>  
  <div class="nav-item" onclick="showPage('settingsPage')">  
    <i class="fas fa-cog"></i>  
    <span>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>  
  </div>  
</div>  

<!-- Ù…Ù†ÙˆÛŒ Ú©Ù†Ø§Ø±ÛŒ -->
<div id="overlay" onclick="closeSideMenu()"></div>
<div id="sideMenu">
  <button class="close-btn" onclick="closeSideMenu()">Ã—</button>
  <h3>Ù…Ù†ÙˆÛŒ Aurix</h3>
  <button class="menu-item" onclick="showPage('homePage'); closeSideMenu();">ğŸ  ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</button>
  <button class="menu-item" onclick="showPage('walletPage'); closeSideMenu();">ğŸ’° Ú©ÛŒÙ Ù¾ÙˆÙ„</button>
  <button class="menu-item" onclick="showPage('accountPage'); closeSideMenu();">ğŸ‘¤ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</button>
  <button class="menu-item" onclick="showPage('settingsPage'); closeSideMenu();">âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
  <button class="menu-item" onclick="openSupport(); closeSideMenu();">ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</button>
  <button class="menu-item" onclick="logout(); closeSideMenu();">ğŸšª Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨</button>
</div>

<script>  
const validCodes=[ "AURIX-ALPHA","AURIX-BRAVO","AURIX-CHARLIE","AURIX-DELTA","AURIX-ECHO",  
"AURIX-FOXTROT","AURIX-GOLF","AURIX-HOTEL","AURIX-INDIA","AURIX-JULIET",  
"AURIX-KILO","AURIX-LIMA","AURIX-MIKE","AURIX-NOVEMBER","AURIX-OSCAR",  
"AURIX-PAPA","AURIX-QUEBEC","AURIX-ROMEO","AURIX-SIERRA","AURIX-TANGO",  
"AURIX-UNIFORM","AURIX-VICTOR","AURIX-WHISKEY","AURIX-XRAY",  
"AURIX-YANKEE","AURIX-ZULU","AURIX-PHOENIX","AURIX-DRAGON",  
"AURIX-TITAN","AURIX-OMEGA" ];  
  
let balance = parseInt(localStorage.getItem("aurix_balance") || "0");  

// ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 1: Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ**
function saveUserData() {
  const username = document.getElementById("usernameInput").value;
  if (username) {
    localStorage.setItem("aurix_username", username);
    localStorage.setItem("aurix_account_data_saved", "true");
  }
}

// ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 2: Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ**
function loadAccountData(){  
  const u = localStorage.getItem("aurix_username");
  const usernameInput = document.getElementById("usernameInput");
  const currentUsername = document.getElementById("currentUsername");
  
  if(u && usernameInput && currentUsername){  
    usernameInput.value = u;  
    currentUsername.innerText = "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ: " + u;  
  }  
  
  const a = localStorage.getItem("aurix_avatar");
  const profileImg = document.getElementById("profileImg");
  if(a && profileImg){  
    profileImg.src = a;  
  }  
}  
  
function showWelcomeIfNewUser(){  
  if(!localStorage.getItem("aurix_welcome_shown")){  
    document.getElementById("welcomePopup").style.display="flex";  
  }  
}  

function closeWelcome(){  
  localStorage.setItem("aurix_welcome_shown","true");  
  document.getElementById("welcomePopup").style.display="none";  
}  
  
function applyWalletGlassStyle() {
  const walletPage = document.getElementById("walletPage");
  if (walletPage) {
    walletPage.classList.add('wallet-glass');
  }
}

// ØªÙˆØ§Ø¨Ø¹ Ù…Ù†ÙˆÛŒ Ú©Ù†Ø§Ø±ÛŒ
function openSideMenu() {
  document.getElementById('sideMenu').classList.add('active');
  document.getElementById('overlay').style.display = 'block';
}

function closeSideMenu() {
  document.getElementById('sideMenu').classList.remove('active');
  document.getElementById('overlay').style.display = 'none';
}

// Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² zoom Ùˆ Ú©Ø´ÛŒØ¯Ù† ØµÙØ­Ù‡
document.addEventListener('touchstart', function(event) {
  if (event.touches.length > 1) {
    event.preventDefault();
  }
}, { passive: false });

document.addEventListener('gesturestart', function(e) {
  e.preventDefault();
});

document.addEventListener('gesturechange', function(e) {
  e.preventDefault();
});

document.addEventListener('gestureend', function(e) {
  e.preventDefault();
});

// Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² double-tap zoom
let lastTouchEnd = 0;
document.addEventListener('touchend', function(event) {
  const now = (new Date()).getTime();
  if (now - lastTouchEnd <= 300) {
    event.preventDefault();
  }
  lastTouchEnd = now;
}, false);

// Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² pinch zoom
document.addEventListener('wheel', function(e) {
  if (e.ctrlKey) {
    e.preventDefault();
  }
}, { passive: false });

// ØªØ§Ø¨Ø¹ Ú†Ú© Ú©Ø±Ø¯Ù† Ù„ÙˆØ¯ Ø´Ø¯Ù† Ø¢ÛŒÚ©ÙˆÙ† Ø§ÙˆØ±ÛŒÙ†Ùˆ
function checkUrinoIconLoad() {
  const urinoImg = document.querySelector('.urino-icon');
  const fallback = document.getElementById('urinoFallback');
  
  if (urinoImg && urinoImg.complete && urinoImg.naturalHeight === 0) {
    urinoImg.style.display = 'none';
    if (fallback) fallback.style.display = 'flex';
  } else if (urinoImg && urinoImg.complete) {
    if (fallback) fallback.style.display = 'none';
  }
}

// ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 3: ØªØ§Ø¨Ø¹ ÙˆØ±ÙˆØ¯**
function doLogin() {
  // Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§ Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù‡ØŒ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§ ÙˆØ§Ø±Ø¯ Ø´Ùˆ
  if (localStorage.getItem("aurix_logged") === "true") {
    document.getElementById("verify").style.display="none";  
    document.getElementById("gameContainer").style.display="block";  
    document.getElementById("bottomNav").style.display="flex";  
    document.getElementById("topNav").style.display = "flex";
    showPage("homePage");
    return;
  }
  
  // Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª Ø¨Ù‡ ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ Ú©Ø¯ Ø¨Ø±Ùˆ
  doRegister();
}

// ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 4: Ú†Ú© Ú©Ø±Ø¯Ù† ÙˆØ¶Ø¹ÛŒØª Ù„Ø§Ú¯ÛŒÙ† Ø¯Ø± Ù„ÙˆØ¯ ØµÙØ­Ù‡**
window.onload = () => {
  const bottomNav = document.getElementById("bottomNav");
  const register = document.getElementById("register");
  const verify = document.getElementById("verify");
  const gameContainer = document.getElementById("gameContainer");
  const topNav = document.getElementById("topNav");
  
  bottomNav.style.display = "none";
  topNav.style.display = "none";
  
  updateWalletBalance();
  loadAccountData(); // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ

  // ğŸ”§ **Ø§ØµÙ„Ø§Ø­ Ø§ØµÙ„ÛŒ: Ú†Ú© Ú©Ø±Ø¯Ù† Ù„Ø§Ú¯ÛŒÙ† Ø¨Ø§ localStorage**
  const isLoggedIn = localStorage.getItem("aurix_logged") === "true";

  if (isLoggedIn) {
    register.style.display = "none";
    verify.style.display = "none";
    gameContainer.style.display = "block";
    bottomNav.style.display = "flex";
    topNav.style.display = "flex";
    showPage("homePage");
    
    applyWalletGlassStyle();
    
    showWelcomeIfNewUser();
  } else {
    register.style.display = "block";
    topNav.style.display = "none";
    verify.style.display = "none";
    gameContainer.style.display = "none";
    bottomNav.style.display = "none";
  }
  
  // ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬Ø¯Ø¯ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÙ‡Ø§ Ù¾Ø³ Ø§Ø² Ù„ÙˆØ¯
  document.body.style.zoom = "1";
  document.documentElement.style.zoom = "1";
  
  // Ú†Ú© Ú©Ø±Ø¯Ù† Ù„ÙˆØ¯ Ø´Ø¯Ù† Ø¢ÛŒÚ©ÙˆÙ† Ø§ÙˆØ±ÛŒÙ†Ùˆ
  setTimeout(checkUrinoIconLoad, 1000);
  
  // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† event listener Ø¨Ø±Ø§ÛŒ Ù„ÙˆØ¯ Ù…Ø¬Ø¯Ø¯ Ø¢ÛŒÚ©ÙˆÙ†
  const urinoImg = document.querySelector('.urino-icon');
  if (urinoImg) {
    urinoImg.addEventListener('load', checkUrinoIconLoad);
    urinoImg.addEventListener('error', checkUrinoIconLoad);
  }
};  
  
function doRegister(){  
  const fullName = document.getElementById("fullName");
  const phoneNumber = document.getElementById("phoneNumber");
  const emailAddress = document.getElementById("emailAddress");
  const register = document.getElementById("register");
  const verify = document.getElementById("verify");
  const topNav = document.getElementById("topNav");
  const showPhone = document.getElementById("showPhone");
  
  if(!fullName.value||!phoneNumber.value||!emailAddress.value){  
    alert("Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯");  
    return;  
  }  
  register.style.display="none";  
  verify.style.display="block";  
  showPhone.innerText="ğŸ“± "+phoneNumber.value;  
    topNav.style.display = "none";
}  
  
function verifyCode(){  
  const codeInput = document.getElementById("codeInput");
  const verify = document.getElementById("verify");
  const gameContainer = document.getElementById("gameContainer");
  const bottomNav = document.getElementById("bottomNav");
  const topNav = document.getElementById("topNav");
  
  if(!validCodes.includes(codeInput.value.trim().toUpperCase())){  
    alert("âŒ Ú©Ø¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª");  
    return;  
  }  
  localStorage.setItem("aurix_logged","true");  
  localStorage.setItem("aurix_user_fullname", document.getElementById("fullName").value);
  localStorage.setItem("aurix_user_phone", document.getElementById("phoneNumber").value);
  localStorage.setItem("aurix_user_email", document.getElementById("emailAddress").value);
  
  verify.style.display="none";  
  gameContainer.style.display="block";  
  bottomNav.style.display="flex";  
  topNav.style.display = "flex";
  
  applyWalletGlassStyle();
  
  showPage("homePage");  
  showWelcomeIfNewUser();  
}  
  
function showPage(id){  
  document.querySelectorAll(".game-page").forEach(p=>p.style.display="none");  
  document.getElementById(id).style.display="block";  
  
  const topNav = document.getElementById("topNav");
  const bottomNav = document.getElementById("bottomNav");
  
  // Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ ÙÙ‚Ø· Ø¯Ø± ØµÙØ­Ø§Øª Ø§ØµÙ„ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯
  if (id === 'homePage' || id === 'walletPage' || id === 'accountPage' || id === 'settingsPage' || id === 'gatewayPage') {
    topNav.style.display = "flex";
    bottomNav.style.display = "flex";
  } else {
    topNav.style.display = "none";
    bottomNav.style.display = "none";
  }
  
  if (id === 'walletPage') {
    applyWalletGlassStyle();
  }
  
  // ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 5: Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ù†Ú¯Ø§Ù… Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ø­Ø³Ø§Ø¨**
  if (id === 'accountPage') {
    loadAccountData();
  }
}  
  
function openGateway(){ 
  // Ø§ÛŒØ¬Ø§Ø¯ ØµÙØ­Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙ‚Øª
  const gameContainer = document.getElementById("gameContainer");
  
  // Ø§Ú¯Ø± ØµÙØ­Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ØŒ Ø§ÛŒØ¬Ø§Ø¯Ø´ Ú©Ù†
  if (!document.getElementById('gatewayPage')) {
    const gatewayPage = document.createElement('div');
    gatewayPage.id = 'gatewayPage';
    gatewayPage.className = 'game-page';
    gatewayPage.innerHTML = `
      <h3>ğŸ’³ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª</h3>
      <p>Ù…Ø¨Ù„Øº Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</p>
      <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 20px;">
        <button onclick="pay(50000)" style="background: linear-gradient(90deg, #4CAF50, #2E7D32); color: white; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer;">
          ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†
        </button>
        <button onclick="pay(100000)" style="background: linear-gradient(90deg, #2196F3, #0D47A1); color: white; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer;">
          Û±Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†
        </button>
        <button onclick="pay(200000)" style="background: linear-gradient(90deg, #FF9800, #F57C00); color: white; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer;">
          Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†
        </button>
        <button onclick="pay(500000)" style="background: linear-gradient(90deg, #9C27B0, #7B1FA2); color: white; padding: 15px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer;">
          ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†
        </button>
      </div>
      <button onclick="showPage('walletPage')" style="margin-top: 30px; width: 100%; padding: 15px; background: #f44336; color: white; border: none; border-radius: 12px; font-size: 16px; cursor: pointer;">
        Ø¨Ø§Ø²Ú¯Ø´Øª
      </button>
    `;
    gameContainer.appendChild(gatewayPage);
  }
  
  showPage("gatewayPage"); 
}  
  
function pay(amount){  
  // 1. Ø®ÙˆØ§Ù†Ø¯Ù† Ù…Ù‚Ø¯Ø§Ø± ÙØ¹Ù„ÛŒ Ø§Ø² localStorage
  let currentBalance = parseInt(localStorage.getItem("aurix_balance") || "0");
  
  // 2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø¨Ù„Øº Ø¬Ø¯ÛŒØ¯
  currentBalance += amount;
  
  // 3. Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯Ù† Ø¯Ø± localStorage
  localStorage.setItem("aurix_balance", currentBalance);
  
  // 4. ğŸ”¥ **Ù…Ù‡Ù…: Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¯Ø± ØµÙØ­Ù‡**
  updateWalletBalance();
  
  alert("âœ… Ù¾Ø±Ø¯Ø§Ø®Øª " + amount.toLocaleString('fa-IR') + " ØªÙˆÙ…Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯");  
  showPage("walletPage");
  
  // 5. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØªØ±Ø§Ú©Ù†Ø´ Ø´Ø§Ø±Ú˜
  addTransaction("Ø´Ø§Ø±Ú˜ Ø­Ø³Ø§Ø¨", amount);
}
  
function saveUsername(){  
  const usernameInput = document.getElementById("usernameInput");
  const currentUsername = document.getElementById("currentUsername");
  
  if(!usernameInput.value) return;  
  localStorage.setItem("aurix_username", usernameInput.value);  
  currentUsername.innerText = "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ: " + usernameInput.value;  
  alert("âœ… Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯");
}  
  
function changeAvatar(e){  
  const file = e.target.files[0];  
  if(!file) return;  
  const reader = new FileReader();  
  reader.onload=()=>{  
    const profileImg = document.getElementById("profileImg");
    profileImg.src=reader.result;  
    localStorage.setItem("aurix_avatar",reader.result);  
    alert("âœ… ØªØµÙˆÛŒØ± Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØºÛŒÛŒØ± Ú©Ø±Ø¯");
  };  
  reader.readAsDataURL(file);  
}  
  
function logout(){  
  if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø®Ø§Ø±Ø¬ Ø´ÙˆÛŒØ¯ØŸ")) {
    localStorage.removeItem("aurix_logged");
    localStorage.removeItem("aurix_session");
    sessionStorage.clear();
    location.reload();  
  }
}  
  
function openSupport(){  
  window.open("https://t.me/Aurix_2026","_blank");  
}

// =================== ğŸ†• ØªÙˆØ§Ø¨Ø¹ Ø¬Ø¯ÛŒØ¯ Ú©ÛŒÙ Ù¾ÙˆÙ„ ===================
// ØªØ§Ø¨Ø¹ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¯Ø± Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¬Ø¯ÛŒØ¯
function updateWalletBalance() {
  const balance = parseInt(localStorage.getItem("aurix_balance") || "0");
  const balanceElement = document.getElementById("walletBalanceText");
  if (balanceElement) {
    // ÙØ±Ù…Øª Ø¹Ø¯Ø¯ Ø¨Ø§ Ø¬Ø¯Ø§Ú©Ù†Ù†Ø¯Ù‡ Ù‡Ø²Ø§Ø±Ú¯Ø§Ù†
    balanceElement.innerText = balance.toLocaleString('fa-IR');
  }
  
  // Ø°Ø®ÛŒØ±Ù‡ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¯Ø± localStorage
  localStorage.setItem("aurix_balance", balance);
}

// ØªØ§Ø¨Ø¹ Ø¨Ø±Ø¯Ø§Ø´Øª Ù¾ÙˆÙ„
function withdrawMoney() {
  const amount = prompt("Ù…Ø¨Ù„Øº Ø¨Ø±Ø¯Ø§Ø´Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (ØªÙˆÙ…Ø§Ù†):");
  if (!amount || isNaN(amount) || parseInt(amount) <= 0) {
    alert("Ù…Ø¨Ù„Øº Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª");
    return;
  }
  
  const balance = parseInt(localStorage.getItem("aurix_balance") || "0");
  if (parseInt(amount) > balance) {
    alert("Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª");
    return;
  }
  
  if (confirm(`Ø¢ÛŒØ§ Ø§Ø² Ø¨Ø±Ø¯Ø§Ø´Øª ${parseInt(amount).toLocaleString('fa-IR')} ØªÙˆÙ…Ø§Ù† Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ`)) {
    const newBalance = balance - parseInt(amount);
    localStorage.setItem("aurix_balance", newBalance);
    updateWalletBalance();
    alert(`Ø¨Ø±Ø¯Ø§Ø´Øª ${parseInt(amount).toLocaleString('fa-IR')} ØªÙˆÙ…Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯`);
    
    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØªØ±Ø§Ú©Ù†Ø´ Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ù„ÛŒØ³Øª
    addTransaction("Ø¨Ø±Ø¯Ø§Ø´Øª Ø§Ø² Ø­Ø³Ø§Ø¨", -parseInt(amount));
  }
}

// ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ú¯Ø²Ø§Ø±Ø´
function showReport() {
  alert("Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ù…Ù„ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ù‚Ø±Ø§Ø± Ø®ÙˆØ§Ù‡Ø¯ Ú¯Ø±ÙØª.");
}

// ØªØ§Ø¨Ø¹ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØªØ±Ø§Ú©Ù†Ø´ Ø¬Ø¯ÛŒØ¯
function addTransaction(title, amount) {
  const transactionsList = document.getElementById("walletTransactionsList");
  if (!transactionsList) return;
  
  const now = new Date();
  const persianDate = new Date().toLocaleDateString('fa-IR');
  const time = now.toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit' });
  
  const transactionItem = document.createElement('div');
  transactionItem.className = 'wallet-transaction-item';
  
  const iconClass = amount > 0 ? 'fa-plus' : 'fa-minus';
  const amountClass = amount > 0 ? 'wallet-transaction-positive' : 'wallet-transaction-negative';
  const amountText = amount > 0 ? `+${amount.toLocaleString('fa-IR')}` : `${amount.toLocaleString('fa-IR')}`;
  
  transactionItem.innerHTML = `
    <div class="wallet-transaction-icon">
      <i class="fas ${iconClass}"></i>
    </div>
    <div class="wallet-transaction-details">
      <div class="wallet-transaction-title">${title}</div>
      <div class="wallet-transaction-date">${persianDate} - ${time}</div>
    </div>
    <div class="wallet-transaction-amount ${amountClass}">
      ${amountText}
    </div>
  `;
  
  // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø¨Ø§Ù„Ø§ÛŒ Ù„ÛŒØ³Øª
  transactionsList.insertBefore(transactionItem, transactionsList.firstChild);
  
  // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Û±Û° ØªØ±Ø§Ú©Ù†Ø´ Ø¢Ø®Ø±
  if (transactionsList.children.length > 10) {
    transactionsList.removeChild(transactionsList.lastChild);
  }
  
  // Ø°Ø®ÛŒØ±Ù‡ ØªØ±Ø§Ú©Ù†Ø´ Ø¯Ø± localStorage Ø¨Ø±Ø§ÛŒ Ù…Ø§Ù†Ø¯Ú¯Ø§Ø±ÛŒ
  saveTransactionToStorage(title, amount, `${persianDate} - ${time}`);
}

// ØªØ§Ø¨Ø¹ Ø°Ø®ÛŒØ±Ù‡ ØªØ±Ø§Ú©Ù†Ø´ Ø¯Ø± localStorage
function saveTransactionToStorage(title, amount, date) {
  let transactions = JSON.parse(localStorage.getItem("aurix_transactions") || "[]");
  transactions.unshift({
    title: title,
    amount: amount,
    date: date,
    timestamp: new Date().getTime()
  });
  
  // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Û²Û° ØªØ±Ø§Ú©Ù†Ø´ Ø¢Ø®Ø±
  if (transactions.length > 20) {
    transactions = transactions.slice(0, 20);
  }
  
  localStorage.setItem("aurix_transactions", JSON.stringify(transactions));
}

// ØªØ§Ø¨Ø¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ø§Ø² localStorage
function loadTransactionsFromStorage() {
  const transactions = JSON.parse(localStorage.getItem("aurix_transactions") || "[]");
  const transactionsList = document.getElementById("walletTransactionsList");
  
  if (transactionsList && transactions.length > 0) {
    transactionsList.innerHTML = '';
    
    transactions.forEach(transaction => {
      const transactionItem = document.createElement('div');
      transactionItem.className = 'wallet-transaction-item';
      
      const iconClass = transaction.amount > 0 ? 'fa-plus' : 'fa-minus';
      const amountClass = transaction.amount > 0 ? 'wallet-transaction-positive' : 'wallet-transaction-negative';
      const amountText = transaction.amount > 0 ? 
        `+${transaction.amount.toLocaleString('fa-IR')}` : 
        `${transaction.amount.toLocaleString('fa-IR')}`;
      
      transactionItem.innerHTML = `
        <div class="wallet-transaction-icon">
          <i class="fas ${iconClass}"></i>
        </div>
        <div class="wallet-transaction-details">
          <div class="wallet-transaction-title">${transaction.title}</div>
          <div class="wallet-transaction-date">${transaction.date}</div>
        </div>
        <div class="wallet-transaction-amount ${amountClass}">
          ${amountText}
        </div>
      `;
      
      transactionsList.appendChild(transactionItem);
    });
  }
}

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ ØµÙØ­Ù‡
window.addEventListener('load', function() {
  if (localStorage.getItem("aurix_logged") === "true") {
    setTimeout(loadTransactionsFromStorage, 500);
  }
});

// ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 6: Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† event listener Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡ ÙˆØ±ÙˆØ¯**
document.addEventListener('DOMContentLoaded', function() {
  const loginBtn = document.querySelector('.login-btn');
  if (loginBtn) {
    loginBtn.addEventListener('click', doLogin);
  }
});

// ğŸ”§ **Ø§ØµÙ„Ø§Ø­ 7: Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‡Ù†Ú¯Ø§Ù… ØªØ§ÛŒÙ¾**
const usernameInput = document.getElementById("usernameInput");
if (usernameInput) {
  let saveTimeout;
  usernameInput.addEventListener('input', function() {
    clearTimeout(saveTimeout);
    saveTimeout = setTimeout(function() {
      if (usernameInput.value.trim()) {
        localStorage.setItem("aurix_username", usernameInput.value.trim());
        const currentUsername = document.getElementById("currentUsername");
        if (currentUsername) {
          currentUsername.innerText = "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ: " + usernameInput.value.trim();
        }
      }
    }, 1000);
  });
}
</script>
</body>
    </html>
