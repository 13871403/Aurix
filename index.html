<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurix - ØµÙØ­Ù‡ Ù…Ø¹Ø±ÙÛŒ</title>
    
    <!-- Ù…ØªØ§ ØªÚ¯â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <style>
        /* Ú©Ø¯ CSS Ø¨Ø§ Ú©Ø§Ù…Ù†Øª Ù†Ø³Ø®Ù‡ - ØªØºÛŒÛŒØ± Ø§ÛŒÙ† Ø¹Ø¯Ø¯ Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± CSS */
        /* Version: 1.0.1 - Last Updated: <?php echo date('Y-m-d H:i:s'); ?> */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #0046FF;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease;
        }

        .splash-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .logo-container {
            width: 200px;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeInZoom 1.5s ease-out forwards;
            background-color: white;
            border-radius: 25px;
            padding: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .logo {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 15px;
        }

        .loading-bar {
            width: 180px;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            margin-top: 40px;
            overflow: hidden;
            position: relative;
        }

        .loading-progress {
            width: 0%;
            height: 100%;
            background-color: white;
            border-radius: 2px;
            animation: loading 2.5s ease-in-out forwards;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .brand-name {
            color: white;
            font-size: 28px;
            font-weight: 700;
            margin-top: 20px;
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 0.5s forwards;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .tagline {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            margin-top: 10px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 0.8s forwards;
        }

        @keyframes fadeInZoom {
            0% { 
                opacity: 0; 
                transform: scale(0.8) rotate(-5deg);
            }
            70% {
                transform: scale(1.05) rotate(2deg);
            }
            100% { 
                opacity: 1; 
                transform: scale(1) rotate(0deg);
            }
        }

        @keyframes loading {
            0% { 
                width: 0%;
                box-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
            }
            50% {
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
            }
            100% { 
                width: 100%;
                box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            }
        }

        @keyframes fadeIn {
            0% { 
                opacity: 0;
                transform: translateY(10px);
            }
            100% { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { opacity: 0.8; }
            50% { opacity: 1; }
            100% { opacity: 0.8; }
        }

        .loading-text {
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            margin-top: 15px;
            animation: pulse 2s infinite;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1s forwards, pulse 2s infinite 1.5s;
        }

        @media (max-width: 768px) {
            .logo-container { 
                width: 180px; 
                height: 180px; 
                border-radius: 20px;
            }
            .brand-name { 
                font-size: 24px; 
            }
            .loading-bar { 
                width: 160px; 
            }
        }

        @media (max-width: 480px) {
            .logo-container { 
                width: 150px; 
                height: 150px; 
                border-radius: 18px;
                padding: 12px;
            }
            .brand-name { 
                font-size: 22px; 
            }
            .loading-bar { 
                width: 140px; 
            }
            .tagline {
                font-size: 13px;
            }
        }

        @media (max-width: 360px) {
            .logo-container { 
                width: 130px; 
                height: 130px; 
            }
            .brand-name { 
                font-size: 20px; 
            }
            .loading-bar { 
                width: 120px; 
            }
        }
    </style>
</head>
<body>
    <div class="splash-container">
        <div class="logo-container">
            <!-- Ù„ÙˆÚ¯ÙˆÛŒ Aurix Ø¨Ø§ Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´ -->
            <img src="https://i.postimg.cc/ZqnhVR6R/IMG-20260105-225855-207.webp?v=<?php echo time(); ?>" 
                 alt="Ù„ÙˆÚ¯ÙˆÛŒ Aurix" 
                 class="logo"
                 onerror="this.onerror=null; this.style.display='none'; this.parentElement.innerHTML='<div style=\"width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, #0046FF 0%, #0099FF 100%);border-radius:15px;color:white;font-size:24px;font-weight:bold;\">AURIX</div>';">
        </div>
        
        <div class="brand-name">Aurix</div>
        <div class="tagline">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª...</div>
        
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
        
        <div class="loading-text" id="loading-percentage">0%</div>
    </div>

    <script>
        // ============================================
        // Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø´
        // ============================================
        
        // Ù¾Ø§Ø±Ø§Ù…ØªØ± Ù†Ø³Ø®Ù‡ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´
        const APP_VERSION = '1.0.1';
        const CACHE_BUSTER = '?_v=' + APP_VERSION + '&t=' + Date.now();
        
        // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ø´ Ù…Ø±ÙˆØ±Ú¯Ø±
        function clearBrowserCache() {
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† localStorage Ùˆ sessionStorage Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø²
            if (window.location.search.indexOf('clearCache') !== -1) {
                localStorage.clear();
                sessionStorage.clear();
            }
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ø´ API
            if ('caches' in window) {
                caches.keys().then(function(cacheNames) {
                    cacheNames.forEach(function(cacheName) {
                        caches.delete(cacheName);
                    });
                    console.log('âœ… Ú©Ø´ Ù…Ø±ÙˆØ±Ú¯Ø± Ù¾Ø§Ú© Ø´Ø¯');
                }).catch(function(err) {
                    console.log('âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ø´:', err);
                });
            }
        }
        
        // Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯
        function ensureFreshLoad() {
            const currentVersion = localStorage.getItem('aurix_version');
            
            // Ø§Ú¯Ø± Ù†Ø³Ø®Ù‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ØŒ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÛŒÙ„ÙˆØ¯ Ú©Ù†
            if (currentVersion !== APP_VERSION) {
                console.log(`ğŸ”„ Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯: ${APP_VERSION} (Ù‚Ø¨Ù„ÛŒ: ${currentVersion || 'Ø¨Ø¯ÙˆÙ†'})`);
                localStorage.setItem('aurix_version', APP_VERSION);
                
                // Ø§Ú¯Ø± Ø§Ø² Ù‚Ø¨Ù„ ØµÙØ­Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ØŒ Ø±ÛŒÙ„ÙˆØ¯ Ú©Ù†
                if (currentVersion) {
                    window.location.href = window.location.pathname + CACHE_BUSTER;
                    return false;
                }
            }
            
            // Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø±ÛŒÙ„ÙˆØ¯ Ø§Ø¬Ø¨Ø§Ø±ÛŒ
            if (window.location.search.indexOf('forceReload') !== -1) {
                const newUrl = window.location.pathname + window.location.search.replace('forceReload', 'reloaded');
                window.history.replaceState({}, document.title, newUrl);
                window.location.reload(true);
            }
            
            return true;
        }
        
        // ============================================
        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡
        // ============================================
        
        // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø±ØµØ¯ Ù„ÙˆØ¯ÛŒÙ†Ú¯
        function updateLoadingPercentage() {
            const startTime = Date.now();
            const totalTime = 2500; // Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
            const percentageElement = document.getElementById('loading-percentage');
            
            const interval = setInterval(() => {
                const elapsed = Date.now() - startTime;
                const percentage = Math.min(Math.floor((elapsed / totalTime) * 100), 100);
                
                if (percentageElement) {
                    percentageElement.textContent = percentage + '%';
                    
                    // ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ø¯Ø± Ø¯Ø±ØµØ¯Ù‡Ø§ÛŒ Ø®Ø§Øµ
                    if (percentage > 90) {
                        percentageElement.style.color = '#4CAF50';
                    } else if (percentage > 70) {
                        percentageElement.style.color = '#FFC107';
                    }
                }
                
                if (percentage >= 100) {
                    clearInterval(interval);
                }
            }, 50);
        }
        
        // ============================================
        // Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
        // ============================================
        
        function redirectToHome() {
            // Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙÚ©Øª Ù…Ø­Ùˆ Ø´Ø¯Ù†
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease';
            
            setTimeout(() => {
                // Ø§ÛŒÙ†Ø¬Ø§ Ø¢Ø¯Ø±Ø³ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø±Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù¾Ø§Ø±Ø§Ù…ØªØ± Ú©Ø´â€ŒØ¨Ø§Ø³ØªØ± Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¬Ø¯ÛŒØ¯
                const homeUrl = 'home.html' + CACHE_BUSTER;
                
                // Ø°Ø®ÛŒØ±Ù‡ Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø§Ø²Ø¯ÛŒØ¯
                localStorage.setItem('last_visit', Date.now());
                
                // Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
                console.log('ğŸš€ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ...');
                window.location.href = homeUrl;
                
                // Ø§Ú¯Ø± Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù†Ø¬Ø§Ù… Ù†Ø´Ø¯ØŒ Ù¾ÛŒØ§Ù… Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
                setTimeout(() => {
                    if (window.location.pathname.includes('home.html') === false) {
                        const confirmRedirect = confirm('Ø¢ÛŒØ§ Ù…Ø§ÛŒÙ„ÛŒØ¯ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ù…Ù†ØªÙ‚Ù„ Ø´ÙˆÛŒØ¯ØŸ');
                        if (confirmRedirect) {
                            window.location.href = homeUrl;
                        }
                    }
                }, 1000);
                
            }, 500);
        }
        
        // ============================================
        // Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§
        // ============================================
        
        function handleErrors() {
            // Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ÛŒ Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±
            const logo = document.querySelector('.logo');
            if (logo) {
                logo.addEventListener('error', function() {
                    console.log('âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„ÙˆÚ¯Ùˆ');
                    this.style.opacity = '0';
                    
                    setTimeout(() => {
                        const container = this.parentElement;
                        container.innerHTML = `
                            <div style="
                                width: 100%;
                                height: 100%;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                background: linear-gradient(135deg, #0046FF 0%, #0099FF 100%);
                                border-radius: 15px;
                                color: white;
                                font-size: 28px;
                                font-weight: bold;
                                text-shadow: 0 2px 4px rgba(0,0,0,0.3);
                            ">
                                AURIX
                            </div>
                        `;
                    }, 300);
                });
            }
            
            // Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ÛŒ Ú©Ù„ÛŒ
            window.addEventListener('error', function(e) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± ØµÙØ­Ù‡:', e.error);
            });
        }
        
        // ============================================
        // Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡
        // ============================================
        
        // Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Aurix Splash Screen - Version ' + APP_VERSION);
            console.log('ğŸ“… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø±: ' + new Date().toLocaleString('fa-IR'));
            
            // 1. Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø´
            clearBrowserCache();
            
            // 2. Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯
            if (!ensureFreshLoad()) {
                return; // Ø§Ú¯Ø± Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨ÙˆØ¯ØŒ Ø§Ø² Ø§ÛŒÙ†Ø¬Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ù†Ø¯Ù‡
            }
            
            // 3. Ø´Ø±ÙˆØ¹ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§
            updateLoadingPercentage();
            
            // 4. Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§
            handleErrors();
            
            // 5. Ø§Ù†ØªÙ‚Ø§Ù„ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾Ø³ Ø§Ø² 2.5 Ø«Ø§Ù†ÛŒÙ‡
            setTimeout(redirectToHome, 2500);
            
            // 6. Ø§Ù…Ú©Ø§Ù† Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ø±ÛŒØ¹â€ŒØªØ±
            document.addEventListener('click', function(e) {
                // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ù„ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø±Ø±
                if (this.redirecting) return;
                this.redirecting = true;
                
                console.log('ğŸ–±ï¸ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±');
                e.preventDefault();
                e.stopPropagation();
                
                // Ø§ÙÚ©Øª Ù…Ø­Ùˆ Ø´Ø¯Ù† Ø³Ø±ÛŒØ¹â€ŒØªØ±
                document.body.style.opacity = '0';
                document.body.style.transition = 'opacity 0.2s ease';
                
                setTimeout(() => {
                    const homeUrl = 'home.html' + CACHE_BUSTER + '&clicked=true';
                    window.location.href = homeUrl;
                }, 200);
            });
            
            // 7. Ø§Ù…Ú©Ø§Ù† Ú©Ù„ÛŒØ¯ Enter Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªÙ‚Ø§Ù„
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.keyCode === 13) {
                    console.log('âŒ¨ï¸ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø§ Ú©Ù„ÛŒØ¯ Enter');
                    redirectToHome();
                }
            });
            
            // 8. Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒØ¨Ø§Ú¯ Ø¯Ø± Ø­Ø§Ù„Øª ØªÙˆØ³Ø¹Ù‡
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                console.log('ğŸ”§ Ø­Ø§Ù„Øª ØªÙˆØ³Ø¹Ù‡ ÙØ¹Ø§Ù„ Ø§Ø³Øª');
                document.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    alert(`Aurix Splash Screen\nVersion: ${APP_VERSION}\nTime: ${new Date().toLocaleTimeString()}`);
                });
            }
        });
        
        // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´ Ø´Ø¯Ù† ØµÙØ­Ù‡ Ø¯Ø± ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø±
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0);
        });
        
        // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„
        window.addEventListener('load', function() {
            console.log('âœ… ØµÙØ­Ù‡ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
            document.body.style.opacity = '1';
        });
        
    </script>
</body>
</html>
