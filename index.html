<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Avarix</title>

<style>
body{margin:0;font-family:tahoma;background:#111;color:#fff}
.light{background:#eee;color:#000}

header{display:flex;justify-content:space-between;padding:10px;background:#222}
.page{display:none;padding:10px}
.active{display:block}

.bottom{
position:fixed;bottom:0;width:100%;
display:flex;justify-content:space-around;
background:#222;padding:10px
}

button{padding:6px;border:none;border-radius:6px;background:#444;color:#fff}
input,textarea{width:100%;padding:6px;margin:5px 0}

.post{background:#333;padding:10px;margin:10px 0;border-radius:10px}
.story{display:inline-block;width:60px;height:60px;background:#555;border-radius:50%;margin:5px;text-align:center;line-height:60px}

#menu{
position:fixed;left:-220px;top:0;
width:220px;height:100%;
background:#333;padding:10px;transition:0.3s
}
</style>

</head>
<body>

<header>
<span onclick="menu()">â˜°</span>
<span>Avarix</span>
<span onclick="go('search')">ğŸ”</span>
</header>

<!-- Ù…Ù†Ùˆ -->
<div id="menu">
<h3>Ù…Ù†Ùˆ</h3>
<button onclick="go('home')">Ø®Ø§Ù†Ù‡</button>
<button onclick="go('profile')">Ù¾Ø±ÙˆÙØ§ÛŒÙ„</button>
<button onclick="go('saved')">Ø³ÛŒÙˆ</button>
<button onclick="go('settings')">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
<button onclick="logout()">Ø®Ø±ÙˆØ¬</button>
</div>

<!-- Ø«Ø¨Øª Ù†Ø§Ù… -->
<div id="signup" class="page">
<h3>Ø«Ø¨Øª Ù†Ø§Ù…</h3>
<input id="phone" placeholder="Ø´Ù…Ø§Ø±Ù‡">
<input id="user" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
<button onclick="signup()">Ø«Ø¨Øª Ù†Ø§Ù…</button>
</div>

<!-- ÙˆØ±ÙˆØ¯ -->
<div id="login" class="page">
<h3>ÙˆØ±ÙˆØ¯</h3>
<input id="loginphone" placeholder="Ø´Ù…Ø§Ø±Ù‡">
<button onclick="login()">ÙˆØ±ÙˆØ¯</button>
</div>

<!-- Ø®Ø§Ù†Ù‡ -->
<div id="home" class="page">

<h3>Ø§Ø³ØªÙˆØ±ÛŒ</h3>
<div id="stories"></div>
<button onclick="addStory()">Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³ØªÙˆØ±ÛŒ</button>

<h3>Ù¾Ø³Øª Ù‡Ø§</h3>
<div id="posts"></div>

<textarea id="newpost" placeholder="Ù¾Ø³Øª Ø¬Ø¯ÛŒØ¯"></textarea>
<button onclick="addPost()">Ø§Ø±Ø³Ø§Ù„ Ù¾Ø³Øª</button>

</div>

<!-- Ù¾Ø±ÙˆÙØ§ÛŒÙ„ -->
<div id="profile" class="page">
<h3>Ù¾Ø±ÙˆÙØ§ÛŒÙ„</h3>

<img id="avatar" width="80" src="https://via.placeholder.com/80">

<p id="name">Ú©Ø§Ø±Ø¨Ø±</p>
<p id="bio"></p>

<input id="editname" placeholder="Ù†Ø§Ù…">
<input id="editbio" placeholder="Ø¨ÛŒÙˆ">
<button onclick="editProfile()">Ø°Ø®ÛŒØ±Ù‡</button>

<button onclick="follow()">ÙØ§Ù„Ùˆ</button>
<button onclick="block()">Ø¨Ù„Ø§Ú©</button>

</div>

<!-- Ø³ÛŒÙˆ -->
<div id="saved" class="page">
<h3>Ù¾Ø³Øª Ù‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡</h3>
<div id="savedPosts"></div>
</div>

<!-- Ú†Øª -->
<div id="chat" class="page">
<h3>Ú†Øª</h3>
<div id="chatbox"></div>
<input id="msg">
<button onclick="send()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

<!-- Ø¬Ø³ØªØ¬Ùˆ -->
<div id="search" class="page">
<h3>Ø¬Ø³ØªØ¬Ùˆ</h3>
<input id="searchInput">
<button onclick="search()">Ø¬Ø³ØªØ¬Ùˆ</button>
<div id="result"></div>
</div>

<!-- ØªÙ†Ø¸ÛŒÙ…Ø§Øª -->
<div id="settings" class="page">
<h3>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</h3>

<button onclick="toggleTheme()">Ø­Ø§Ù„Øª Ø´Ø¨/Ø±ÙˆØ²</button>
<button onclick="lang('fa')">ÙØ§Ø±Ø³ÛŒ</button>
<button onclick="lang('en')">English</button>

<button onclick="report()">Ú¯Ø²Ø§Ø±Ø´</button>
<button onclick="support()">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</button>

</div>

<!-- Ù¾Ø§ÛŒÛŒÙ† -->
<div class="bottom">
<button onclick="go('home')">ğŸ </button>
<button onclick="go('chat')">ğŸ’¬</button>
<button onclick="go('profile')">ğŸ‘¤</button>
</div>

<script>

// ØµÙØ­Ù‡
function go(p){
localStorage.setItem("page",p)
document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'))
document.getElementById(p).classList.add('active')
menu(false)
}

// Ù…Ù†Ùˆ
function menu(f){
let m=document.getElementById("menu")
m.style.left = m.style.left=="0px" ? "-220px" : "0px"
}

// Ø«Ø¨Øª Ù†Ø§Ù…
function signup(){
let phone=phoneInput("phone")
if(localStorage.getItem(phone)){
alert("Ù‚Ø¨Ù„Ø§ Ø«Ø¨Øª Ø´Ø¯Ù‡")
return
}
localStorage.setItem(phone,JSON.stringify({user:user.value}))
localStorage.setItem("user",phone)
go("home")
}

// ÙˆØ±ÙˆØ¯
function login(){
let phone=loginphone.value
if(!localStorage.getItem(phone)){
alert("Ø«Ø¨Øª Ù†Ø§Ù… Ù†Ú©Ø±Ø¯ÛŒ")
return
}
localStorage.setItem("user",phone)
go("home")
}

// Ø®Ø±ÙˆØ¬
function logout(){
localStorage.removeItem("user")
go("login")
}

// Ù¾Ø³Øª
function addPost(){
let text=newpost.value
let posts=JSON.parse(localStorage.getItem("posts")||"[]")
posts.push({text,like:0,save:false})
localStorage.setItem("posts",JSON.stringify(posts))
renderPosts()
}

// Ù†Ù…Ø§ÛŒØ´ Ù¾Ø³Øª
function renderPosts(){
let posts=JSON.parse(localStorage.getItem("posts")||"[]")
postsDiv.innerHTML=""
posts.forEach((p,i)=>{
postsDiv.innerHTML+=`
<div class="post">
${p.text}
<br>
â¤ï¸ ${p.like}
<button onclick="like(${i})">Ù„Ø§ÛŒÚ©</button>
<button onclick="save(${i})">Ø³ÛŒÙˆ</button>
<button onclick="share()">Ø´ÛŒØ±</button>
<button onclick="comment()">Ú©Ø§Ù…Ù†Øª</button>
</div>`
})
}

// Ù„Ø§ÛŒÚ©
function like(i){
let posts=JSON.parse(localStorage.getItem("posts"))
posts[i].like++
localStorage.setItem("posts",JSON.stringify(posts))
renderPosts()
}

// Ø³ÛŒÙˆ
function save(i){
let posts=JSON.parse(localStorage.getItem("posts"))
posts[i].save=true
localStorage.setItem("posts",JSON.stringify(posts))
renderSaved()
}

// Ù†Ù…Ø§ÛŒØ´ Ø³ÛŒÙˆ
function renderSaved(){
let posts=JSON.parse(localStorage.getItem("posts")||"[]")
savedPosts.innerHTML=""
posts.filter(p=>p.save).forEach(p=>{
savedPosts.innerHTML+=`<div class="post">${p.text}</div>`
})
}

// Ú†Øª
function send(){
chatbox.innerHTML+=`<div>${msg.value}</div>`
msg.value=""
}

// Ø§Ø³ØªÙˆØ±ÛŒ
function addStory(){
let s=JSON.parse(localStorage.getItem("story")||"[]")
s.push("Ø§Ø³ØªÙˆØ±ÛŒ")
localStorage.setItem("story",JSON.stringify(s))
renderStory()
}
function renderStory(){
let s=JSON.parse(localStorage.getItem("story")||"[]")
stories.innerHTML=""
s.forEach(st=>{
stories.innerHTML+=`<div class="story" onclick="viewStory()">â—</div>`
})
}
function viewStory(){
alert("Ø¯ÛŒØ¯ÛŒ")
}

// Ù¾Ø±ÙˆÙØ§ÛŒÙ„
function editProfile(){
localStorage.setItem("name",editname.value)
localStorage.setItem("bio",editbio.value)
loadProfile()
}
function loadProfile(){
name.innerText=localStorage.getItem("name")||"Ú©Ø§Ø±Ø¨Ø±"
bio.innerText=localStorage.getItem("bio")||""
}

// ÙØ§Ù„Ùˆ
function follow(){alert("ÙØ§Ù„Ùˆ Ø´Ø¯")}

// Ø¨Ù„Ø§Ú©
function block(){alert("Ø¨Ù„Ø§Ú© Ø´Ø¯")}

// Ø¬Ø³ØªØ¬Ùˆ
function search(){
result.innerText="Ú©Ø§Ø±Ø¨Ø± Ù¾ÛŒØ¯Ø§ Ø´Ø¯"
}

// Ú¯Ø²Ø§Ø±Ø´
function report(){
window.location.href="https://rubika.ir/Music_daniyal"
}

// Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ
function support(){
window.location.href="https://rubika.ir/Music_daniyal"
}

// Ø²Ø¨Ø§Ù†
function lang(l){
localStorage.setItem("lang",l)
alert("Ø²Ø¨Ø§Ù† ØªØºÛŒÛŒØ± Ú©Ø±Ø¯")
}

// ØªÙ…
function toggleTheme(){
document.body.classList.toggle("light")
}

// Ù„ÙˆØ¯
window.onload=function(){
let p=localStorage.getItem("page")||"login"
go(p)
renderPosts()
renderSaved()
renderStory()
loadProfile()
}

</script>

</body>
</html>
